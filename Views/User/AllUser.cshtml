@{
    ViewBag.Title = "User List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<ProductManagmentSystem.Models.UserModel>

<div class="row">
    <div class="col-lg-9">
        <h3>User List...</h3>
    </div>
    <div class="col-lg-3">
        <a class="btn btn-primary" asp-controller="User" asp-action="AddUser">Add User</a>
    </div>
</div>
<hr />


<div class="table-responsive">
    <table class="table table-striped" id="sample_1">
        <thead>
            <tr>
                <th>User Photo</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>User Role</th>
                <th>Phone Number</th>
                <th>Date Of Birth</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td><img src="@Url.Content(item.UserPhoto)" style="height:80px; width:80px; border-radius:0px"></td>
                    <td>@item.FirstName</td>
                    <td>@item.LastName</td>
                    <td>@item.UserRole</td>
                    <td>@item.PhoneNumber</td>
                    <td>@item.DateOfBirth</td>
                    <td>
                        <a asp-controller="User" asp-action="ViewUser" asp-route-id="@item.UserId">
                            <button type="button" class="btn btn-primary btn-sm">View</button>
                        </a>
                        <a asp-controller="User" asp-action="EditUser" asp-route-id="@item.UserId">
                            <button type="button" class="btn btn-primary btn-sm">Edit</button>
                        </a>
                        <a asp-controller="User" asp-action="DeleteUser" asp-route-id="@item.UserId">
                            <button type="submit" class="btn btn-danger btn-sm" onclick="return fun1()">Delete</button>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


<script>
    $(document).ready(function () {
        $("#sample_1").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#sample_2 tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });

    function fun1() {
        if (confirm("Are You Sure Want To Delete")) {
            return true;
        }
        else {
            return false;
        }
    }
</script>


